{% extends 'base.html' %}

{% block content %}
<!-- templates/tweet/home.html -->
<div class="container timeline-container">
    <div class="row">
        <!-- 왼쪽 컬럼 -->
        <!-- 로그인이 안되어 있을 때-->
        {% if not user.is_authenticated %}
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title"> 비회원 입니다.</h5>
                </div>
            </div>
        </div>
        {% else %}
        <!-- 로그인이 되어 있을 때-->
        <div class="col-md-3">
            <div class="card" style="width: 14rem;">
                <img src="data:image/jpeg;base64,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"
                    class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">{{ user.username }}</h5>
                    <p class="card-text">프로필 설명란입니다. 반갑습니다. 안녕하세요.</p>
                    <a href="/post/create" class="btn btn-primary">글 쓰기</a>
                </div>
            </div>
        </div>
        {% endif %}
        <!-- 오른 쪽 컬럼-->
        <div class="col-md-7">
            <hr>
            <!-- 작성 된 글이 나오는 곳 -->
            {% for post in posts %}
            <div class="col-md-12 mb-2">
                <div class="card" style="height: 9rem;">
                    <div class="card-body">
                        <div class="media">
                            <div class="media-body">
                                <h5 class="mt-0">{{ post.title }}</h5>
                            </div>
                            {% if post.write == user.id %}
                            <div style="text-align: right">
                                <a href="/post/{{ post.id }}/delete">
                                    <span class="badge rounded-pill bg-danger">삭제</span>
                                </a>
                            </div>
                            {% endif %}
                            <div style="text-align: right">
                                <a href="/post/{{ post.id }}">
                                    <span class="badge rounded-pill bg-success">보기</span>
                                </a>
                            </div>
                            <div style="text-align: right">
                                {% if user in post.like_users.all %}
                                <a href="/post/{{ post.id }}/like/">
                                    <span class="badge rounded-pill bg-danger">좋아요 취소</span>
                                </a>
                                {% else %}
                                <a href="/post/{{ post.id }}/like/">
                                    <span class="badge rounded-pill bg-danger">좋아요</span>
                                </a>
                                {% endif %}
                            </div>
                        </div>
                        <div style="text-align: left; margin-top: 7px;">
                            <span style="font-size: small">좋아요 수:{{ post.like_count}}</span>
                        </div>
                        <div style="text-align: right;">
                            <span style="font-size: small">{{ post.writer.username }}-
                                {{post.created_at|timesince}} 전</span>
                        </div>
                        </form>


                    </div>



                </div>
            </div>
            {% endfor %}
        </div>

        {% endblock %}